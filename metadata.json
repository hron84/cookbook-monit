{
  "name": "monit",
  "description": "Installs/Configures .",
  "long_description": "# Monit cookbook\n\n# Requirements\n\nThis cookbook is not requires any external cookbook.\n\n# Usage\n\n## M/Monit server\n\nSimply add `monit` and `monit::mmonit` to run list. Recipe uses Monit to start M/Monit, so\nbe sure `monit` is added before `monit::mmonit`.\n\n# Attributes\n\n - `node[:mmonit][:version]` - M/Monit version. Default: `2.4`\n - `node[:mmonit][:checksum]` - M/Monit package checksum. If custom version is specified, this attribute is have to be filled\n\n - `node[:monit][:check_interval]` - Instructs Monit how often check services. Default: `120`\n - `node[:monit][:log]` - Where Monit sends messages. If it is 'syslog' then log being sent to syslog. Default: `/var/log/monit.log`\n - `node[:monit][:mailserver][:host]` - Hostname of SMTP server used for deliver alerts. Default: `localhost`\n - `node[:monit][:mailserver][:port]` - Port of SMTP server used for deliver alerts. Note: monit cannot authenticate against this SMTP server. Default: `25`\n - `node[:monit][:httpd][:enable]` - Determines whether HTTP server is enabled or not. Default: `false`\n - `node[:monit][:httpd][:address]` - Address where built-in HTTP  server is listening. Default: `localhost`\n - `node[:monit][:httpd][:port]` - Port where built-in HTTP server is listening. Default: `2812`\n - `node[:monit][:httpd][:user]` - HTTP authentication username. Default: `admin`\n - `node[:monit][:httpd][:password]` - HTTP authentication password. Default: `monit`\n - `node[:monit][:mailformat][:from]` - Alert message sender. Default `root@#{node[:fqdn]}`\n - `node[:monit][:mailformat][:subject]` - Alert message subject template. See [monit documentation](http://mmonit.com/monit/documentation/monit.html#alert_message_layout) for details. Default: `monit alert --  $EVENT $SERVICE`\n - `node[:monit][:mmonit_url]` - M/Monit server's URL. Default: not set.\n\n# Recipes\n\n## default\n\nInstalls Monit from package and generates monitrc. Also configures monit to monitor itself - just for test `monit_check` resource.\n\n## monit::mmonit\n\nThis recipe downloads and installs an M/Monit server and configures Monit to monitor it. Also creates a service called `mmonit`.\n\n# Resources\n\n## monit_check\n\nThis is a service check for monit. It can monitor three type of service:\n - Handled by system, with init scripts or upstart/systemd\n - Same as above, but can monitor one port\n - Handled by monit itself (fully custom)\n\n### Attributes\n - `file_name` - What filename will be created under /etc/monit/conf.d. Name variable. Default: resource name.\n - `group` - Group of service in Monit. Default: not set\n - `process` - What process will be monitored. Monit uses this as a description of service. Default: `file_name` of the resource\n - `service` - If service is handled by system, this name will used to search the service itself. Default: `process`\n - `pidfile` - PID file generated by service. Default `/var/run/#{service}.pid`\n - `start_program` - How to start service if checks failed (service is not running). Default is depends on operating system init script handler.\n - `stop_program` - How to stop service if checks failed (service is not running). Default is depends on operating system init script handler.\n - `host` - If checking a port for the service, this will specify which host will be used. Default: `localhost`\n - `port` - If checking a port for the service, this will specify which port will be used. Default: not set\n - `ssl` - If checking a port for the service, this will specify SSL is used or not. Default: false\n - `protocol` - If checking a port for the service, this will specify which protocol will be used. Default: not set\n - `template` - If we need a custom service template, we can specify which template will be used. It is being searched under `monit` cookbook. Default: `generic_service`\n\n### Examples\n\n```ruby\n# Handled by system\nmonit_check 'monit' do\n  action :enable\nend\n\n# Handled by system, monitor a port\nmonit_check 'sshd' do\n  if platform?('ubuntu')\n    service 'ssh'\n    process 'sshd'\n    pidfile '/var/run/sshd.pid'\n  end\n\n  host 'localhost'\n  port '22'\nend\n\n# Custom service\nmonit_check \"mmonit\" do\n  start_program \"/opt/mmonit-#{mmonit_version}/bin/mmonit start\"\n  stop_program \"/opt/mmonit-#{mmonit_version}/bin/mmonit stop\"\n  process \"mmonit\"\n  pidfile \"/opt/mmonit-#{mmonit_version}/logs/mmonit.pid\"\n  port 8080\n  protocol 'http'\nend\n\n```\n# Author\n\nAuthor:: Garami Gabor (<hron@hron.me>)\n\n# License\n\nLicensed under the terms of MIT License.\n",
  "maintainer": "Gabor Garami",
  "maintainer_email": "hron@hron.me",
  "license": "MIT",
  "platforms": {
    "ubuntu": ">= 0.0.0",
    "debian": ">= 0.0.0",
    "fedora": ">= 0.0.0",
    "redhat": ">= 0.0.0",
    "gentoo": ">= 0.0.0",
    "centos": ">= 0.0.0",
    "suse": ">= 0.0.0",
    "scientific": ">= 0.0.0"
  },
  "dependencies": {
  },
  "recommendations": {
  },
  "suggestions": {
  },
  "conflicting": {
  },
  "providing": {
    "monit": ">= 0.0.0",
    "monit::mmonit": ">= 0.0.0"
  },
  "replacing": {
  },
  "attributes": {
    "mmonit/version": {
      "display_name": "M/Monit version",
      "type": "string",
      "required": "optional",
      "recipes": [
        "monit::mmonit"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "mmonit/checksum": {
      "display_name": "M/Monit checksum",
      "description": "Checksum of M/Monit package",
      "type": "string",
      "required": "optional",
      "recipes": [
        "monit::mmonit"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/check_interval": {
      "display_name": "Check interval",
      "type": "string",
      "required": "required",
      "default": "120",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/log": {
      "display_name": "Log file",
      "description": "Location of the log, or 'syslog' if you want to redirect to syslog",
      "type": "string",
      "required": "required",
      "default": "/var/log/monit.log",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/mmonit_url": {
      "display_name": "M/Monit server URL",
      "type": "string",
      "required": "optional",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/httpd/enable": {
      "display_name": "Enable internal HTTP server",
      "type": "string",
      "choices": [
        "true",
        "false"
      ],
      "required": "required",
      "default": "false",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/httpd/address": {
      "display_name": "HTTP server bind address",
      "type": "string",
      "required": "optional",
      "default": "localhost",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/httpd/port": {
      "display_name": "HTTP server port",
      "type": "string",
      "required": "optional",
      "default": "2812",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/httpd/user": {
      "display_name": "Authentication user",
      "type": "string",
      "required": "optional",
      "default": "admin",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/httpd/password": {
      "display_name": "Authentication password",
      "type": "string",
      "required": "optional",
      "default": "monit",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/mailformat/from": {
      "display_name": "Sender of alert e-mails",
      "type": "string",
      "required": "recommended",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    },
    "monit/mailformat/subject": {
      "display_name": "Template of the subject of alert emails",
      "type": "string",
      "required": "optional",
      "recipes": [
        "monit::default"
      ],
      "choice": [

      ],
      "calculated": false
    }
  },
  "groupings": {
    "monit/httpd": {
      "title": "Options for Monit's internal HTTP server"
    }
  },
  "recipes": {
    "monit::default": "Monit client",
    "monit::mmonit": "M/Monit server"
  },
  "version": "0.1.0"
}